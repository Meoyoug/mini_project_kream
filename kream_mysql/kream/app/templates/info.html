<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <title>CrawlData info</title>
    <style>
        .carousel {
            border: 2px solid #ddd; /* 테두리 색과 두께 설정 */
            border-radius: 10px; /* 테두리 모서리 둥글게 만들기 */
            overflow: hidden; /* 테두리를 넘어가는 내용 숨기기 */
        }
        .carousel-item img{
            width: 100%;
            height: 500px;
            object-fit: cover;
        }
        .des_text{
            height: 550px;
            width: 100%;
            object-fit: cover;
        }
        .des_text > p {
            margin-left: 40px;
            padding-right: 30px;
        }
        .des_text > h4 {
            margin-left: 20px;
        }
    </style>
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg bg-body-tertiary">
            <div class="container-fluid">
              <a class="navbar-brand" href="/info">Kream Crawling Info</a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav">
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="/">Home</a>
                  </li>
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      목차
                    </a>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="#tech_Stack">1. 프로그래밍 언어</a></li>
                      <li><a class="dropdown-item" href="#tech_Stack2">2. 기술 스택</a></li>
                      <li><a class="dropdown-item" href="#description">3. 기능 구현</a></li>
                    </ul>
                  </li>
                </ul>
              </div>
            </div>
          </nav>
    </header>
    <h1></h1>

    <div class="container">
        <div class="tech_Stack" id="tech_Stack">
            <h3>1. 프로그래밍 언어</h3>
            <div id="carousel1" class="carousel slide carousel-fade">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="https://velog.velcdn.com/images/2jinu/post/07861ade-e908-4b25-8490-fbff04995255/image.png" class="d-block" alt="파이썬 이미지" >
                        <div class="carousel-caption d-none d-md-block">
                            <p>파이썬3을 사용하여 Flask앱에서 필요한 코드들을 작성하고,
                                리팩토링 과정을 거쳐 가독성 높은 코드 구현을 위해 노력했습니다.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="https://images.velog.io/images/hosickk/post/3a467b69-7dee-43e5-9fcb-6eef9ee70694/html_thumbnail.jpeg" class="d-block" alt="HTML 이미지" >
                        <div class="carousel-caption d-none d-md-block">
                            <p style="color: black;">HTML을 이용하여 각 라우트에 해당하는 페이지를 구성하였습니다.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="https://images.velog.io/images/hongsoom/post/5bbe1f26-1abd-410e-952a-67c06533bb13/JS.jpg" class="d-block" alt="JS 이미지" >
                        <div class="carousel-caption d-none d-md-block">
                            <p style="color: black;">JavaScript를 웹의 동작을 구현하는데 사용했습니다.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="https://tms-outsource.com/blog/wp-content/uploads/2023/05/bootstrap-alternatives.jpg" class="d-block" alt="BootStrap 이미지" >
                        <div class="carousel-caption d-none d-md-block">
                            <p style="color: black;">bootstrap V5.3.1을 이용해서 깔끔하고 편리한 UI를 구성하고자 했습니다.</p>
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carousel1" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carousel1" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>
        </div>    
        <br>
        <br>
        <hr>
        <br>
        <br>
        <div class="tech_Stack2" id="tech_Stack2">
            <h3>2. 기술 스택</h3>
            <div id="carousel2" class="carousel slide carousel-fade">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="https://velog.velcdn.com/images/vive0508/post/2bdc7422-3f97-46dc-9224-8f945861d572/image.jpeg" class="d-block" alt="MySQL 이미지">
                        <div class="carousel-caption d-none d-md-block">
                            <p style="color: black;">MySQL을 사용하여 크롤링한 데이터를 저장하고 불러오는 작업을 수행하도록 했습니다.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="https://images.velog.io/images/suhyun-guri/post/d57b1efe-05b6-4350-b0fb-e53be65a4fb3/016.png" class="d-block" alt="Flask 이미지">
                        <div class="carousel-caption d-none d-md-block">
                            <p style="color: black;">Flask를 이용해 MySQL과 Python코드, 템플릿 등을 연동하여 앱으로 구성하였습니다.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="https://static.imasters.com.br/wp-content/uploads/2019/04/23113406/Conhecendo-o-Jinja2-um-mecanismo-para-templates-no-Flask.jpg" class="d-block" alt="jinja2 이미지">
                        <div class="carousel-caption d-none d-md-block">
                            <p>Jinja2 템플릿 엔진을 이용하여 파이썬 코드상으로 MySQL에서 가져온 데이터를 템플릿으로 넘기도록 구현했습니다.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="https://images.velog.io/images/poiuyy0420/post/c5ff7130-4280-41d1-8425-8df14dea9f8c/se.jpg" class="d-block" alt="Selenium 이미지">
                        <div class="carousel-caption d-none d-md-block">
                            <p style="color: black;">Selenium을 활용하여 웹 페이지의 데이터를 크롤링 작업하였습니다.</p>
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carousel2" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carousel2" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>
        </div>
        <br>
        <br>
        <hr>
        <br>
        <br>
        <div class="description" id="description">
            <h3>3. 기능 구현</h3>
            <div id="des_carousel" class="carousel slide">
                <div class="carousel-inner">
                    <div class="carousel-item active des_text">
                        <br>
                        <h4>1. 크롤링 기능 구현</h4>
                        <p>- Selenium을 활용하여 크롤링 기능을 개발했습니다. 웹 페이지의 html 요소에 접근해 text 형식의 데이터나 img 주소를 크롤링하였습니다.</p>
                        <p>- crawling.py 에서 코드를 구현하였으며, 크롤링한 데이터는 SQL문과 반복문처리를 통해 MySQL 데이터베이스에 추가됩니다. </p>
                        <br>
                        <h4>2. index.html의 구성</h4>
                        <p>- 깔끔하고 손쉬운 사용이 가능한 BootStrap V5.3.1을 이용하여 구성했습니다.</p>
                        <p>- 상단의 네비게이션바를 통해 편리한 UI를 구성하고자 했으며, 메뉴 중 카테고리나 성별을 선택해서 데이터를 볼 수 있도록 구성했습니다.</p>
                        <p>- form 양식을 통해 검색어, 검색 조건을 입력받고 조회버튼을 통해 검색이 실행되도록 구성했습니다.</p>
                        <p>- 데이터는 table 양식을 통해 표현되도록 했고, bootstrap의 테이블 기능을 가져왔습니다.</p>
                        <p>- 테이블에서 선택된 데이터를 삭제할 수 있도록 버튼을 추가했습니다.</p>
                        <p>- 추가로 크롤링해서 데이터를 받아올 수 있는 버튼도 추가했습니다.</p>
                        <p>- 마지막으로 업데이트된 날짜를 확인할 수 있도록 하였습니다.</p>
                    </div>
                    <div class="carousel-item des_text">
                    <br>
                    <h4>3. Flask 앱의 구성</h4>
                        <p>- Flask의 구성을 최대한 활용하고자 라이브러리화를 진행했습니다.</p>
                        <p>- 폴더의 최상위에는 앱을 실행시키는 run.py와 앱의 동작방식을 구현하는코드가 들어있는 kream 폴더, 그리고 파이썬 라이브러리가 있습니다.</p>
                        <p>- kream 폴더: </p>
                        <p>&nbsp;&nbsp;&nbsp;&nbsp;- MySQL DB의 스키마를 구성하는 SQL 파일이 들어있는 MySQL 폴더,</p> 
                        <p>&nbsp;&nbsp;&nbsp;&nbsp;- 템플릿역할을 하는 HTML 파일들이 들어있는 templates 폴더</p> 
                        <p>&nbsp;&nbsp;&nbsp;&nbsp;- HTML의 구성요소들의 동작 방식과 스타일을 지정해주는 JS, CSS, 이미지 파일이 들어있는 static폴더</p>
                        <p>&nbsp;&nbsp;&nbsp;&nbsp;- 블루프린터를 등록하는 __init__.py, 메인화면을 구성해주는 main.py</p>
                        <p>&nbsp;&nbsp;&nbsp;&nbsp;- 크롤링 기능을 구현한 crawling.py와 이를바탕으로 업데이트 버튼의 기능을 구현한 update.py</p>
                        <p>&nbsp;&nbsp;&nbsp;&nbsp;- form형식의 데이터를 get방식으로 받아와서 검색결과를 반환하는 search_data.py</p>
                        <p>&nbsp;&nbsp;&nbsp;&nbsp;- 선택된 데이터를 삭제해주는 delete.py</p>
                        <p>&nbsp;&nbsp;&nbsp;&nbsp;- 마지막으로 보고계신 이 페이지를 지정된 주소에 반환하는 info.py로 구성되어 있습니다.</p>
                    </div>
                    <div class="carousel-item des_text">
                        <br>
                        <h4>4. .py 파일 내의 기능 구현 설명</h4>
                        <p>- main.py : pymysql을 이용해서 MySQL DB와 연결 후 SQL문으로 데이터를 가져옴, flask-paginate 라이브러리를 이용해서 pagination 객체를 생성함. 이것들을 render_temple을 이용해서 html에 반환하여 메인페이지에 데이터를 페이지네이션 형식으로 구현</p>
                        <p>- search_data.py : html의 form에서 제출된 데이터를 flask의 request를 이용해 get 방식으로 전달받아서 이를 통해 SQL문을 형성하고 검색된 데이터를 render_temple을 통해 html에 반환함.
                            검색을 통해 반환된 데이터 역시 페이지네이션 기능을 사용하여 표현되도록 함. 코드 내에서 반복되는 코드들은 함수화하여 최대한 코드길이를 줄여보고자 노력함.
                        </p>
                        <p>- delete.py : 삭제할 데이터를 체크하고 삭제버튼을 누르면 JS에서 post방식으로 삭제할 데이터의 정보가 담겨있는 json 파일을 보내는 함수를 이벤트리스너로 등록하였음. py에서는 이를 request.get_json으로 받아서 sql문을 작성하고 DB에 DELETE FROM 쿼리문을 보내 데이터를 삭제함.
                            이후에 성공 실패여부를 JS에 jsonify를 반환하여 JS에서 응답을 받으면 html에서도 데이터항목을 지우게됨.
                        </p>
                        <p>- update.py : delete.py와 비슷한 형식으로 업데이트 버튼을 누르면 크롤링 파일이 실행되고 성공적으로 업데이트가 되면 redirect함수와 uri_for 함수를통해 메인페이지를 리턴함. 실패시에는 실패 메시지를 jsonify로 리턴해서 실패알림을 띄움.</p>
                        <p>- __init__.py : create_app 함수가 Flask 객체를 생성하고 각각의 py파일들에서 생성된 블루프린터들을 import해와서 블루프린터에 등록하고 Flask 객체를 리턴함. </p>
                        <p>- run.py : 앱을 실행시킬 수 있도록 create_app 함수를 import해서 실행시키도록 구현됨.</p>
                
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#des_carousel" data-bs-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#des_carousel" data-bs-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Next</span>
                </button>
              </div>
        </div>
    </div>

            




    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
</body>
<footer>
    <div class="img-link text-center">
      <br>
      <br>
      <hr>
      <a href="https://github.com/Meoyoug" class="text-decoration-none">
        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" class="bi bi-github" viewBox="0 0 16 16">
          <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
        </svg>
        <span>Meoyoug's github</span>
      </a>
    </div>
  </footer>
</html>